# ğŸ”§ Tool Use Agent åŠŸèƒ½å®Œæˆï¼

åŸºäº Agentic Design Patterns çš„ **Tool Useï¼ˆå·¥å…·ä½¿ç”¨ï¼‰** è®¾è®¡æ¨¡å¼ï¼Œä¸ºä½ åˆ›å»ºäº†ä¸€ä¸ªå®Œæ•´çš„ã€å¯ç”¨çš„ Tool Use Agent ç³»ç»Ÿï¼

## âœ… å·²å®Œæˆçš„åŠŸèƒ½

### 1. æ ¸å¿ƒå®ç° ğŸ”§

**æ–‡ä»¶**: `src/shuyixiao_agent/agents/tool_use_agent.py`

åˆ›å»ºäº†å®Œæ•´çš„ Tool Use Agent å®ç°ï¼š
- âœ… `ToolUseAgent` æ ¸å¿ƒç±»
- âœ… `ToolDefinition` å·¥å…·å®šä¹‰ç±»
- âœ… `ToolParameter` å‚æ•°å®šä¹‰ç±»
- âœ… `ToolExecutionResult` æ‰§è¡Œç»“æœç±»
- âœ… `ToolType` å·¥å…·ç±»å‹æšä¸¾
- âœ… æ™ºèƒ½å·¥å…·é€‰æ‹©å’Œå‚æ•°æ¨ç†
- âœ… å·¥å…·æ‰§è¡Œç»“æœå¤„ç†
- âœ… å·¥å…·é“¾å¼è°ƒç”¨æ”¯æŒ
- âœ… è¯¦ç»†çš„æ‰§è¡Œè¿½è¸ªå’Œæ—¥å¿—
- âœ… é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶

### 2. é¢„å®šä¹‰å·¥å…·åº“ ğŸ› ï¸

**æ–‡ä»¶**: `src/shuyixiao_agent/tools/predefined_tools.py`

å®ç°äº† **6å¤§ç±»20+ä¸ªå®ç”¨å·¥å…·**ï¼š

#### ğŸ“ æ–‡ä»¶æ“ä½œå·¥å…· (FileOperationTools)
1. **read_file** - è¯»å–æ–‡ä»¶å†…å®¹
2. **write_file** - å†™å…¥æ–‡ä»¶å†…å®¹
3. **list_directory** - åˆ—å‡ºç›®å½•å†…å®¹
4. **file_exists** - æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
5. **get_file_info** - è·å–æ–‡ä»¶è¯¦ç»†ä¿¡æ¯
6. **delete_file** - åˆ é™¤æ–‡ä»¶

#### ğŸŒ ç½‘ç»œè¯·æ±‚å·¥å…· (NetworkTools)
1. **http_get** - å‘é€HTTP GETè¯·æ±‚
2. **http_post** - å‘é€HTTP POSTè¯·æ±‚
3. **ping_host** - Pingç½‘ç»œä¸»æœº

#### ğŸ“Š æ•°æ®å¤„ç†å·¥å…· (DataProcessingTools)
1. **parse_json** - è§£æJSONå­—ç¬¦ä¸²
2. **parse_csv** - è§£æCSVå†…å®¹
3. **filter_data** - è¿‡æ»¤æ•°æ®
4. **sort_data** - æ’åºæ•°æ®
5. **aggregate_data** - èšåˆæ•°æ®ç»Ÿè®¡

#### ğŸ’» ç³»ç»Ÿä¿¡æ¯å·¥å…· (SystemInfoTools)
1. **get_system_info** - è·å–ç³»ç»ŸåŸºæœ¬ä¿¡æ¯
2. **get_cpu_info** - è·å–CPUä¿¡æ¯
3. **get_memory_info** - è·å–å†…å­˜ä¿¡æ¯
4. **get_disk_info** - è·å–ç£ç›˜ä¿¡æ¯
5. **get_process_list** - è·å–è¿›ç¨‹åˆ—è¡¨

#### ğŸ§® è®¡ç®—å·¥å…· (CalculationTools)
1. **basic_math** - åŸºç¡€æ•°å­¦è®¡ç®—
2. **statistics_calc** - ç»Ÿè®¡è®¡ç®—
3. **unit_conversion** - å•ä½è½¬æ¢

#### ğŸ“ æ–‡æœ¬å¤„ç†å·¥å…· (TextProcessingTools)
1. **text_analysis** - æ–‡æœ¬åˆ†æ
2. **text_search_replace** - æ–‡æœ¬æœç´¢æ›¿æ¢
3. **text_extract_pattern** - æå–æ–‡æœ¬æ¨¡å¼
4. **text_hash** - è®¡ç®—æ–‡æœ¬å“ˆå¸Œ
5. **text_format** - æ–‡æœ¬æ ¼å¼åŒ–

### 3. Web API æ¥å£ ğŸŒ

**æ–‡ä»¶**: `src/shuyixiao_agent/web_app.py`

æ·»åŠ äº†å®Œæ•´çš„ API ç«¯ç‚¹ï¼š

#### POST `/api/tool-use/execute`
æ‰§è¡ŒTool Useè¯·æ±‚
- æ™ºèƒ½åˆ†æç”¨æˆ·éœ€æ±‚
- è‡ªåŠ¨é€‰æ‹©åˆé€‚å·¥å…·
- æ”¯æŒå¤šè½®å·¥å…·è°ƒç”¨
- è¿”å›å®Œæ•´æ‰§è¡Œç»“æœ

#### POST `/api/tool-use/execute/stream`
æµå¼æ‰§è¡ŒTool Useè¯·æ±‚
- å®æ—¶è¿”å›æ‰§è¡Œè¿›åº¦
- Server-Sent Events (SSE) æ ¼å¼
- æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ

#### POST `/api/tool-use/execute-tool`
æ‰§è¡Œå•ä¸ªå·¥å…·
- ç›´æ¥è°ƒç”¨æŒ‡å®šå·¥å…·
- ä¼ å…¥å…·ä½“å‚æ•°
- é€‚åˆç²¾ç¡®æ§åˆ¶

#### GET `/api/tool-use/tools`
è·å–å¯ç”¨å·¥å…·åˆ—è¡¨
- æ”¯æŒæŒ‰å·¥å…·ç±»å‹è¿‡æ»¤
- è¿”å›å·¥å…·è¯¦ç»†ä¿¡æ¯
- åŒ…å«å‚æ•°å’Œç¤ºä¾‹

#### GET `/api/tool-use/history`
è·å–å·¥å…·æ‰§è¡Œå†å²
- è¯¦ç»†æ‰§è¡Œè®°å½•
- ç»Ÿè®¡åˆ†ææ•°æ®
- æ€§èƒ½ç›‘æ§ä¿¡æ¯

#### DELETE `/api/tool-use/history`
æ¸…é™¤å·¥å…·æ‰§è¡Œå†å²

#### GET `/api/tool-use/scenarios`
è·å–Tool Useåœºæ™¯ä¿¡æ¯
- é¢„å®šä¹‰ä½¿ç”¨åœºæ™¯
- å·¥å…·ç±»å‹è¯´æ˜
- åŠŸèƒ½ç‰¹æ€§ä»‹ç»

### 4. å‰ç«¯ç•Œé¢ ğŸ¨

**æ–‡ä»¶**: `src/shuyixiao_agent/static/index.html`

æ·»åŠ äº† Tool Use Agent å¯è§†åŒ–ç•Œé¢ï¼š

- ğŸ”§ **å·¥å…·ç±»å‹è¿‡æ»¤**ï¼šæŒ‰ç±»å‹ç­›é€‰å¯ç”¨å·¥å…·
- âš™ï¸ **è¿­ä»£æ¬¡æ•°æ§åˆ¶**ï¼šè®¾ç½®æœ€å¤§æ‰§è¡Œè½®æ¬¡
- ğŸš€ **å¿«é€Ÿåœºæ™¯é€‰æ‹©**ï¼šé¢„è®¾å¸¸ç”¨ä»»åŠ¡æ¨¡æ¿
- ğŸ“ **ä»»åŠ¡è¾“å…¥åŒºåŸŸ**ï¼šæè¿°éœ€è¦å®Œæˆçš„ä»»åŠ¡
- âš¡ **æ‰§è¡Œæ¨¡å¼é€‰æ‹©**ï¼šæ”¯æŒåŒæ­¥å’Œæµå¼æ‰§è¡Œ
- ğŸ“Š **è¿›åº¦å¯è§†åŒ–**ï¼šå®æ—¶æ˜¾ç¤ºæ‰§è¡Œè¿›åº¦
- ğŸ“‹ **æ‰§è¡Œå†å²**ï¼šè¯¦ç»†è®°å½•æ¯ä¸ªæ­¥éª¤
- âœ… **ç»“æœå±•ç¤º**ï¼šç¾è§‚å±•ç¤ºæ‰§è¡Œç»“æœ
- ğŸ› ï¸ **å·¥å…·æµè§ˆå™¨**ï¼šæŸ¥çœ‹æ‰€æœ‰å¯ç”¨å·¥å…·
- ğŸ“ˆ **ç»Ÿè®¡é¢æ¿**ï¼šå·¥å…·ä½¿ç”¨ç»Ÿè®¡åˆ†æ

### 5. ä½¿ç”¨ç¤ºä¾‹ ğŸ’¡

**æ–‡ä»¶**: `examples/15_tool_use_agent_demo.py`

åˆ›å»ºäº†å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹ï¼š
- âœ… åŸºç¡€å·¥å…·ä½¿ç”¨æ¼”ç¤º
- âœ… å¤æ‚ä»»åŠ¡é“¾å¼æ‰§è¡Œæ¼”ç¤º
- âœ… ä¸åŒç±»å‹å·¥å…·æ¼”ç¤º
- âœ… ç»Ÿè®¡ä¿¡æ¯å±•ç¤º
- âœ… äº¤äº’å¼ä½“éªŒæ¨¡å¼

## ğŸš€ å¦‚ä½•ä½¿ç”¨

### æ–¹å¼1: Python ä»£ç ä½¿ç”¨

```python
from src.shuyixiao_agent.gitee_ai_client import GiteeAIClient
from src.shuyixiao_agent.agents.tool_use_agent import ToolUseAgent
from src.shuyixiao_agent.tools.predefined_tools import PredefinedToolsRegistry

# åˆå§‹åŒ–
llm_client = GiteeAIClient()
agent = ToolUseAgent(llm_client=llm_client, verbose=True)

# æ³¨å†Œæ‰€æœ‰é¢„å®šä¹‰å·¥å…·
PredefinedToolsRegistry.register_all_tools(agent)

# æ‰§è¡Œä»»åŠ¡
result = await agent.process_request("è¯»å–README.mdæ–‡ä»¶å†…å®¹")

if result["success"]:
    print(f"ä»»åŠ¡å®Œæˆï¼æ‰§è¡Œäº† {result['total_iterations']} è½®")
    for step in result["results"]:
        print(f"- {step['tool_name']}: {step['result']}")
```

### æ–¹å¼2: Web ç•Œé¢ï¼ˆæ¨èï¼‰

```bash
python run_web.py
# è®¿é—® http://localhost:8001
# ç‚¹å‡» "ğŸ”§ Tool Use Agent" æ ‡ç­¾é¡µ
```

### æ–¹å¼3: å‘½ä»¤è¡Œæ¼”ç¤º

```bash
python examples/15_tool_use_agent_demo.py
```

### æ–¹å¼4: API è°ƒç”¨

```bash
# æ‰§è¡Œä»»åŠ¡
curl -X POST http://localhost:8001/api/tool-use/execute \
  -H "Content-Type: application/json" \
  -d '{
    "user_input": "è®¡ç®— 2^10 + sqrt(144)",
    "max_iterations": 3
  }'

# è·å–å¯ç”¨å·¥å…·
curl http://localhost:8001/api/tool-use/tools

# è·å–æ‰§è¡Œå†å²
curl http://localhost:8001/api/tool-use/history
```

## ğŸ“Š æ ¸å¿ƒä¼˜åŠ¿

### 1. æ™ºèƒ½å·¥å…·é€‰æ‹© ğŸ¯
- **è‡ªåŠ¨åˆ†æ**ï¼šæ™ºèƒ½ç†è§£ç”¨æˆ·éœ€æ±‚
- **æœ€ä¼˜åŒ¹é…**ï¼šé€‰æ‹©æœ€åˆé€‚çš„å·¥å…·
- **å‚æ•°æ¨ç†**ï¼šè‡ªåŠ¨æ¨æ–­å·¥å…·å‚æ•°
- **ç½®ä¿¡åº¦è¯„ä¼°**ï¼šæä¾›é€‰æ‹©ç†ç”±

### 2. ä¸°å¯Œå·¥å…·ç”Ÿæ€ ğŸ› ï¸
- **20+é¢„å®šä¹‰å·¥å…·**ï¼šè¦†ç›–6å¤§å¸¸ç”¨é¢†åŸŸ
- **æ˜“äºæ‰©å±•**ï¼šç®€å•æ·»åŠ è‡ªå®šä¹‰å·¥å…·
- **ç±»å‹åˆ†ç±»**ï¼šæŒ‰åŠŸèƒ½ç±»å‹ç»„ç»‡
- **è¯¦ç»†æ–‡æ¡£**ï¼šæ¯ä¸ªå·¥å…·éƒ½æœ‰å®Œæ•´è¯´æ˜

### 3. å¼ºå¤§æ‰§è¡Œèƒ½åŠ› âš¡
- **é“¾å¼è°ƒç”¨**ï¼šæ”¯æŒå¤šå·¥å…·åä½œ
- **å¼‚æ­¥æ‰§è¡Œ**ï¼šé«˜æ•ˆçš„å¹¶å‘å¤„ç†
- **é”™è¯¯æ¢å¤**ï¼šæ™ºèƒ½é”™è¯¯å¤„ç†æœºåˆ¶
- **æ€§èƒ½ç›‘æ§**ï¼šè¯¦ç»†çš„æ‰§è¡Œç»Ÿè®¡

### 4. å®Œæ•´å¯è§‚æµ‹æ€§ ğŸ“ˆ
- **æ‰§è¡Œè¿½è¸ª**ï¼šè®°å½•æ¯ä¸ªæ­¥éª¤
- **æ€§èƒ½åˆ†æ**ï¼šç»Ÿè®¡æ‰§è¡Œæ—¶é—´
- **ä½¿ç”¨ç»Ÿè®¡**ï¼šå·¥å…·ä½¿ç”¨é¢‘ç‡
- **å†å²è®°å½•**ï¼šå®Œæ•´æ‰§è¡Œå†å²

### 5. çµæ´»é›†æˆæ–¹å¼ ğŸ”„
- **Python API**ï¼šç›´æ¥ä»£ç è°ƒç”¨
- **Webç•Œé¢**ï¼šå¯è§†åŒ–æ“ä½œ
- **REST API**ï¼šHTTPæ¥å£è°ƒç”¨
- **æµå¼å¤„ç†**ï¼šå®æ—¶è¿›åº¦åé¦ˆ

## ğŸ“ è®¾è®¡æ¨¡å¼è¯¦è§£

### Tool Use æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³

Tool Useï¼ˆå·¥å…·ä½¿ç”¨ï¼‰æ¨¡å¼çš„æ ¸å¿ƒæ˜¯**è®©AIæ™ºèƒ½ä½“èƒ½å¤Ÿè°ƒç”¨å¤–éƒ¨å·¥å…·æ¥æ‰©å±•å…¶èƒ½åŠ›**ï¼Œå°±åƒäººç±»ä½¿ç”¨å·¥å…·æ¥å®Œæˆå¤æ‚ä»»åŠ¡ä¸€æ ·ã€‚

#### ä¼ ç»Ÿæ–¹å¼ vs Tool Use æ¨¡å¼

**ä¼ ç»Ÿæ–¹å¼**ï¼š
```
ç”¨æˆ·è¯·æ±‚ â†’ AIæ¨¡å‹ â†’ æ–‡æœ¬å›å¤
é—®é¢˜ï¼šAIåªèƒ½ç”Ÿæˆæ–‡æœ¬ï¼Œæ— æ³•æ‰§è¡Œå®é™…æ“ä½œ
```

**Tool Use æ¨¡å¼**ï¼š
```
ç”¨æˆ·è¯·æ±‚ â†’ éœ€æ±‚åˆ†æ â†’ å·¥å…·é€‰æ‹© â†’ å·¥å…·æ‰§è¡Œ â†’ ç»“æœæ•´åˆ â†’ æ™ºèƒ½å›å¤
          â†“          â†“         â†“         â†“
      ç†è§£æ„å›¾    é€‰æ‹©å·¥å…·   å®é™…æ“ä½œ   å¤„ç†ç»“æœ
```

### é€‚ç”¨åœºæ™¯

âœ… **é€‚åˆä½¿ç”¨ Tool Use çš„æƒ…å†µ**ï¼š
- éœ€è¦æ‰§è¡Œå®é™…æ“ä½œï¼ˆæ–‡ä»¶ã€ç½‘ç»œã€è®¡ç®—ï¼‰
- éœ€è¦è·å–å®æ—¶æ•°æ®
- éœ€è¦ä¸å¤–éƒ¨ç³»ç»Ÿäº¤äº’
- éœ€è¦æ‰§è¡Œå¤æ‚è®¡ç®—æˆ–æ•°æ®å¤„ç†
- éœ€è¦å¤šæ­¥éª¤ä»»åŠ¡åä½œ

âŒ **ä¸é€‚åˆä½¿ç”¨ Tool Use çš„æƒ…å†µ**ï¼š
- çº¯æ–‡æœ¬ç”Ÿæˆä»»åŠ¡
- åˆ›æ„å†™ä½œ
- ç®€å•é—®ç­”
- ä¸éœ€è¦å¤–éƒ¨æ•°æ®çš„æ¨ç†

## ğŸ“ˆ åŠŸèƒ½å¯¹æ¯”

### Tool Use Agent vs å…¶ä»– Agent

| ç‰¹æ€§ | Simple Agent | Tool Agent | RAG Agent | Prompt Chaining | Routing Agent | **Tool Use Agent** |
|------|--------------|------------|-----------|-----------------|---------------|--------------------|
| å·¥å…·è°ƒç”¨ | âŒ æ—  | âœ… åŸºç¡€ | âŒ æ—  | âŒ æ—  | âŒ æ—  | âœ… **æ™ºèƒ½åŒ–** |
| å·¥å…·é€‰æ‹© | âŒ æ—  | âš ï¸ æ‰‹åŠ¨ | âŒ æ—  | âŒ æ—  | âŒ æ—  | âœ… **è‡ªåŠ¨åŒ–** |
| å¤šå·¥å…·åä½œ | âŒ æ—  | âš ï¸ æœ‰é™ | âŒ æ—  | âš ï¸ é—´æ¥ | âŒ æ—  | âœ… **å®Œæ•´æ”¯æŒ** |
| æ‰§è¡Œè¿½è¸ª | âŒ æ—  | âš ï¸ åŸºç¡€ | âŒ æ—  | âœ… æœ‰ | âœ… æœ‰ | âœ… **è¯¦ç»†** |
| å·¥å…·ç”Ÿæ€ | âŒ æ—  | âš ï¸ æœ‰é™ | âŒ æ—  | âŒ æ—  | âŒ æ—  | âœ… **ä¸°å¯Œ** |
| é€‚ç”¨åœºæ™¯ | ç®€å•å¯¹è¯ | åŸºç¡€å·¥å…· | çŸ¥è¯†æŸ¥è¯¢ | å¤æ‚æµç¨‹ | ä»»åŠ¡åˆ†å‘ | **å®é™…æ“ä½œ** |

### Tool Use vs Tool Agent çš„åŒºåˆ«

| ç»´åº¦ | Tool Agent | Tool Use Agent |
|------|------------|----------------|
| æ ¸å¿ƒæ€æƒ³ | é¢„å®šä¹‰å·¥å…·è°ƒç”¨ | æ™ºèƒ½å·¥å…·é€‰æ‹©å’Œæ‰§è¡Œ |
| å·¥å…·é€‰æ‹© | æ‰‹åŠ¨æŒ‡å®š | AIè‡ªåŠ¨é€‰æ‹© |
| å‚æ•°å¤„ç† | æ‰‹åŠ¨æä¾› | AIè‡ªåŠ¨æ¨ç† |
| æ‰§è¡Œæ–¹å¼ | å•ä¸€å·¥å…· | å¤šå·¥å…·åä½œ |
| é€‚ç”¨å¤æ‚åº¦ | ç®€å•ä»»åŠ¡ | å¤æ‚ä»»åŠ¡é“¾ |
| ç¤ºä¾‹ | è°ƒç”¨å¤©æ°”API | åˆ†æéœ€æ±‚â†’é€‰æ‹©å·¥å…·â†’æ‰§è¡Œâ†’æ•´åˆç»“æœ |

## ğŸ”¥ å®é™…åº”ç”¨åœºæ™¯

### åœºæ™¯1: æ•°æ®åˆ†æåŠ©æ‰‹

```python
# ç”¨æˆ·ï¼šåˆ†æsales.csvæ–‡ä»¶ä¸­çš„é”€å”®æ•°æ®
# ç³»ç»Ÿè‡ªåŠ¨æ‰§è¡Œï¼š
agent.process_request("åˆ†æsales.csvæ–‡ä»¶ä¸­çš„é”€å”®æ•°æ®")
# 1. read_file - è¯»å–CSVæ–‡ä»¶
# 2. parse_csv - è§£æCSVæ•°æ®
# 3. aggregate_data - æŒ‰äº§å“èšåˆé”€å”®é¢
# 4. statistics_calc - è®¡ç®—å¹³å‡å€¼å’Œæ€»å’Œ
```

### åœºæ™¯2: ç³»ç»Ÿè¿ç»´åŠ©æ‰‹

```python
# ç”¨æˆ·ï¼šæ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€å¹¶ç”ŸæˆæŠ¥å‘Š
# ç³»ç»Ÿè‡ªåŠ¨æ‰§è¡Œï¼š
agent.process_request("æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€å¹¶ç”ŸæˆæŠ¥å‘Š")
# 1. get_system_info - è·å–ç³»ç»Ÿä¿¡æ¯
# 2. get_cpu_info - è·å–CPUçŠ¶æ€
# 3. get_memory_info - è·å–å†…å­˜çŠ¶æ€
# 4. write_file - ç”ŸæˆçŠ¶æ€æŠ¥å‘Š
```

### åœºæ™¯3: æ–‡æ¡£å¤„ç†åŠ©æ‰‹

```python
# ç”¨æˆ·ï¼šç»Ÿè®¡æ‰€æœ‰.mdæ–‡ä»¶çš„å­—æ•°
# ç³»ç»Ÿè‡ªåŠ¨æ‰§è¡Œï¼š
agent.process_request("ç»Ÿè®¡å½“å‰ç›®å½•æ‰€æœ‰.mdæ–‡ä»¶çš„å­—æ•°")
# 1. list_directory - åˆ—å‡ºç›®å½•æ–‡ä»¶
# 2. read_file - é€ä¸ªè¯»å–.mdæ–‡ä»¶
# 3. text_analysis - åˆ†ææ¯ä¸ªæ–‡ä»¶å­—æ•°
# 4. statistics_calc - è®¡ç®—æ€»å­—æ•°
```

### åœºæ™¯4: ç½‘ç»œç›‘æ§åŠ©æ‰‹

```python
# ç”¨æˆ·ï¼šæ£€æŸ¥ç½‘ç«™åˆ—è¡¨çš„å¯ç”¨æ€§
# ç³»ç»Ÿè‡ªåŠ¨æ‰§è¡Œï¼š
agent.process_request("æ£€æŸ¥ç™¾åº¦ã€è°·æ­Œã€GitHubçš„ç½‘ç«™å¯ç”¨æ€§")
# 1. ping_host - æµ‹è¯•ç™¾åº¦è¿é€šæ€§
# 2. http_get - æ£€æŸ¥è°·æ­ŒHTTPçŠ¶æ€
# 3. ping_host - æµ‹è¯•GitHubè¿é€šæ€§
# 4. aggregate_data - æ±‡æ€»å¯ç”¨æ€§æŠ¥å‘Š
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å·¥å…·è®¾è®¡åŸåˆ™

âœ… **å•ä¸€èŒè´£**ï¼š
- æ¯ä¸ªå·¥å…·åªåšä¸€ä»¶äº‹
- åŠŸèƒ½è¾¹ç•Œæ¸…æ™°
- é¿å…å·¥å…·é‡å 

âœ… **å‚æ•°ç®€æ´**ï¼š
- å¿…éœ€å‚æ•°å°½é‡å°‘
- æä¾›åˆç†é»˜è®¤å€¼
- å‚æ•°ç±»å‹æ˜ç¡®

âœ… **é”™è¯¯å¤„ç†**ï¼š
- è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
- ä¼˜é›…çš„å¤±è´¥å¤„ç†
- æä¾›æ¢å¤å»ºè®®

### 2. ä»»åŠ¡æè¿°æŠ€å·§

```python
# âœ… å¥½çš„ä»»åŠ¡æè¿°
"è¯»å–config.jsonæ–‡ä»¶å¹¶è§£æå…¶ä¸­çš„æ•°æ®åº“é…ç½®"
"è®¡ç®—æ•°ç»„ [1,2,3,4,5] çš„å¹³å‡å€¼å’Œæ ‡å‡†å·®"
"è·å–ç³»ç»ŸCPUä½¿ç”¨ç‡å¹¶æ£€æŸ¥æ˜¯å¦è¶…è¿‡80%"

# âŒ ä¸å¥½çš„ä»»åŠ¡æè¿°
"å¤„ç†æ–‡ä»¶"  # å¤ªæ¨¡ç³Š
"åšè®¡ç®—"    # ä¸æ˜ç¡®
"æ£€æŸ¥ç³»ç»Ÿ"  # èŒƒå›´å¤ªå¹¿
```

### 3. æ€§èƒ½ä¼˜åŒ–

```python
# 1. åˆç†è®¾ç½®æœ€å¤§è¿­ä»£æ¬¡æ•°
agent.process_request(task, max_iterations=3)  # ç®€å•ä»»åŠ¡
agent.process_request(task, max_iterations=10) # å¤æ‚ä»»åŠ¡

# 2. ä½¿ç”¨å·¥å…·ç±»å‹è¿‡æ»¤
tools = agent.get_available_tools(tool_type=ToolType.FILE_OPERATION)

# 3. å®šæœŸæ¸…ç†å†å²è®°å½•
agent.clear_history()
```

### 4. é”™è¯¯å¤„ç†

```python
# å§‹ç»ˆæ£€æŸ¥æ‰§è¡Œç»“æœ
result = await agent.process_request(user_input)
if result["success"]:
    # å¤„ç†æˆåŠŸç»“æœ
    for step in result["results"]:
        if step["success"]:
            print(f"âœ… {step['tool_name']}: {step['result']}")
        else:
            print(f"âŒ {step['tool_name']}: {step['error_message']}")
else:
    # å¤„ç†å¤±è´¥æƒ…å†µ
    print(f"ä»»åŠ¡å¤±è´¥: {result['message']}")
```

## ğŸ”§ è‡ªå®šä¹‰å·¥å…·

### æ·»åŠ æ–°å·¥å…·

```python
# 1. å®šä¹‰å·¥å…·å‡½æ•°
def my_custom_tool(param1: str, param2: int = 10) -> str:
    """æˆ‘çš„è‡ªå®šä¹‰å·¥å…·"""
    return f"å¤„ç† {param1} ä½¿ç”¨å‚æ•° {param2}"

# 2. æ³¨å†Œä¸ºå·¥å…·
agent.register_function_as_tool(
    func=my_custom_tool,
    name="custom_tool",
    description="æ‰§è¡Œè‡ªå®šä¹‰æ“ä½œ",
    tool_type=ToolType.CUSTOM,
    examples=["å¤„ç†æ•°æ®", "è‡ªå®šä¹‰æ“ä½œ"],
    tags=["è‡ªå®šä¹‰", "ç¤ºä¾‹"]
)

# 3. ä½¿ç”¨å·¥å…·
result = await agent.process_request("ä½¿ç”¨è‡ªå®šä¹‰å·¥å…·å¤„ç†æ•°æ®")
```

### åˆ›å»ºå·¥å…·ç±»

```python
class MyToolSet:
    @staticmethod
    def tool1(input_data: str) -> str:
        return f"å·¥å…·1å¤„ç†: {input_data}"
    
    @staticmethod
    def tool2(value: float) -> float:
        return value * 2

# æ‰¹é‡æ³¨å†Œ
for method_name in dir(MyToolSet):
    if not method_name.startswith('_'):
        method = getattr(MyToolSet, method_name)
        if callable(method):
            agent.register_function_as_tool(method)
```

## ğŸ“ é…ç½®ç¤ºä¾‹

### å·¥å…·ç±»å‹é…ç½®

```python
# åªä½¿ç”¨æ–‡ä»¶æ“ä½œå·¥å…·
file_tools = agent.get_available_tools(tool_type=ToolType.FILE_OPERATION)

# åªä½¿ç”¨è®¡ç®—å·¥å…·
calc_tools = agent.get_available_tools(tool_type=ToolType.CALCULATION)

# è·å–æ‰€æœ‰å·¥å…·
all_tools = agent.get_available_tools()
```

### æ‰§è¡Œå‚æ•°é…ç½®

```python
# é…ç½®ä¸åŒå¤æ‚åº¦çš„ä»»åŠ¡
simple_task = await agent.process_request("è®¡ç®—1+1", max_iterations=1)
complex_task = await agent.process_request("åˆ†ææ•°æ®å¹¶ç”ŸæˆæŠ¥å‘Š", max_iterations=10)
```

## ğŸ”§ æ‰©å±•åŠŸèƒ½

### å¯ä»¥æ·»åŠ çš„åŠŸèƒ½ï¼š

- [ ] å·¥å…·ä¾èµ–ç®¡ç†ï¼ˆå·¥å…·Aä¾èµ–å·¥å…·Bï¼‰
- [ ] å·¥å…·æƒé™æ§åˆ¶ï¼ˆæŸäº›å·¥å…·éœ€è¦æˆæƒï¼‰
- [ ] å·¥å…·ç‰ˆæœ¬ç®¡ç†ï¼ˆæ”¯æŒå·¥å…·å‡çº§ï¼‰
- [ ] å·¥å…·æ€§èƒ½ç›‘æ§ï¼ˆæ‰§è¡Œæ—¶é—´ã€æˆåŠŸç‡ï¼‰
- [ ] å·¥å…·æ¨èç³»ç»Ÿï¼ˆåŸºäºå†å²ä½¿ç”¨æ¨èï¼‰
- [ ] å·¥å…·ç»„åˆæ¨¡æ¿ï¼ˆé¢„å®šä¹‰å·¥å…·ç»„åˆï¼‰
- [ ] å¼‚æ­¥å·¥å…·æ‰§è¡Œï¼ˆå¹¶è¡Œæ‰§è¡Œå¤šä¸ªå·¥å…·ï¼‰
- [ ] å·¥å…·ç»“æœç¼“å­˜ï¼ˆé¿å…é‡å¤æ‰§è¡Œï¼‰
- [ ] å·¥å…·æ‰§è¡Œæ²™ç®±ï¼ˆå®‰å…¨éš”ç¦»ï¼‰
- [ ] å·¥å…·å¸‚åœºï¼ˆç¤¾åŒºè´¡çŒ®å·¥å…·ï¼‰

## ğŸ“š ç›¸å…³èµ„æº

### é¡¹ç›®æ–‡æ¡£
- ä¸»æ–‡æ¡£ï¼š`README.md`
- Web ç•Œé¢æŒ‡å—ï¼š`docs/web_interface.md`
- API å‚è€ƒï¼š`docs/api_reference.md`

### å¤–éƒ¨å‚è€ƒ
- **åŸç†æ–‡ç« **: [Agentic Design Patterns - Tool Use](https://github.com/ginobefun/agentic-design-patterns-cn/blob/main/11-Chapter-05-Tool-Use.md)

## ğŸ‰ å¼€å§‹ä½¿ç”¨ï¼

```bash
# å¯åŠ¨ Web ç•Œé¢ä½“éªŒå®Œæ•´åŠŸèƒ½
python run_web.py

# æˆ–è¿è¡Œå‘½ä»¤è¡Œæ¼”ç¤º
python examples/15_tool_use_agent_demo.py

# æˆ–åœ¨ä½ çš„ä»£ç ä¸­ä½¿ç”¨
from src.shuyixiao_agent.agents.tool_use_agent import ToolUseAgent
```

## ğŸ“ åé¦ˆå’Œé—®é¢˜

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿ï¼š
- æŸ¥çœ‹æ–‡æ¡£: `TOOL_USE_AGENT_FEATURES.md`ï¼ˆæœ¬æ–‡ä»¶ï¼‰
- æŸ¥çœ‹ç¤ºä¾‹: `examples/15_tool_use_agent_demo.py`
- è¿è¡Œæ¼”ç¤º: `python examples/15_tool_use_agent_demo.py`

---

**ğŸŠ æ­å–œï¼ä½ ç°åœ¨æ‹¥æœ‰äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ Tool Use Agent ç³»ç»Ÿï¼**

é€šè¿‡æ™ºèƒ½å·¥å…·é€‰æ‹©å’Œæ‰§è¡Œï¼Œè®©ä½ çš„åº”ç”¨èƒ½å¤Ÿå®Œæˆå„ç§å®é™…æ“ä½œä»»åŠ¡ï¼Œä»ç®€å•çš„æ–‡ä»¶å¤„ç†åˆ°å¤æ‚çš„æ•°æ®åˆ†æï¼Œå¤§å¤§æ‰©å±•äº†AIçš„å®ç”¨èƒ½åŠ›ï¼ğŸš€
