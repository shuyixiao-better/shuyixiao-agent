# 🎯 快速修复指南 - 旧知识库显示原始名称

## 问题
旧知识库 `kb_dd65ff91_kb` 只显示编码名称，不显示中文原始名称。

## ✅ 解决方案（3步搞定）

### 步骤1: 配置文件已创建

配置文件 `knowledge_base_mappings.json` 已经创建在项目根目录，内容：

```json
{
  "comment": "旧知识库名称映射配置",
  "description": "用于映射旧的编码名称到原始中文名称，修改后重启服务器生效",
  "mappings": {
    "kb_dd65ff91_kb": "舒一笑个人信息"
  }
}
```

**如果原始名称不是"舒一笑个人信息"，请修改这个文件！**

### 步骤2: 重启服务器

```bash
# 1. 停止当前服务器（按 Ctrl+C）

# 2. 重新启动
python run_web.py
```

### 步骤3: 查看效果

**启动日志应该显示：**
```
🔄 正在恢复知识库名称映射关系...
  📄 已加载配置文件: 1 个预定义映射
  ✓ 恢复映射(已知旧数据): '舒一笑个人信息' -> 'kb_dd65ff91_kb'
✅ 已恢复 1 个名称映射关系
```

**然后访问页面：**
1. 打开 http://localhost:8001
2. 进入"知识库管理"标签页
3. 在"所有知识库"卡片中点击"刷新列表"
4. **应该显示**: 📚 **舒一笑个人信息** (12个文档)

## 🔧 如果原始名称不对

编辑 `knowledge_base_mappings.json`，修改为正确的名称：

```json
{
  "mappings": {
    "kb_dd65ff91_kb": "你的实际知识库名称"
  }
}
```

然后重启服务器。

## 📋 添加更多旧知识库

如果有其他旧知识库，也可以添加：

```json
{
  "mappings": {
    "kb_dd65ff91_kb": "舒一笑个人信息",
    "default": "默认知识库",
    "其他编码名称": "对应的中文名称"
  }
}
```

## ✨ 工作原理

1. 服务器启动时读取配置文件
2. 建立 "中文名称" → "编码名称" 的映射
3. API返回时使用映射转换
4. 前端显示中文名称

## 🎉 完成！

现在你可以：
- ✅ 看到中文名称而不是编码
- ✅ 直接使用旧数据，无需迁移
- ✅ 随时修改配置调整映射

如有问题，查看详细文档：`OLD_COLLECTION_MAPPING_GUIDE.md`

