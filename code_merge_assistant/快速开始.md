# 🚀 快速开始指南

## 一、安装与启动

### macOS / Linux

```bash
# 1. 进入项目目录
cd code_merge_assistant

# 2. 安装依赖
pip3 install -r requirements.txt

# 3. 启动 Web 界面（推荐）
python3 web_ui.py

# 或使用快速启动脚本
chmod +x start.sh
./start.sh
```

### Windows

```cmd
# 1. 进入项目目录
cd code_merge_assistant

# 2. 安装依赖
pip install -r requirements.txt

# 3. 启动 Web 界面（推荐）
python web_ui.py

# 或双击运行
start.bat
```

## 二、使用方式

### 方式 1：Web 界面（推荐）⭐

**最直观、最好用的方式！**

1. 启动服务后，浏览器访问：`http://localhost:5678`
2. 在左侧粘贴**你的代码**（基准版本）
3. 在右侧粘贴**同事的代码**（新版本）
4. 点击"对比分析"按钮
5. 查看彩色高亮的差异结果

**特点：**
- ✅ 彩色高亮显示（绿色=新增，红色=删除，黄色=修改）
- ✅ 实时统计变更数量
- ✅ 支持大段代码对比
- ✅ 界面美观，操作简单

### 方式 2：命令行对比文件

```bash
# 对比两个文件
python3 merge_assistant.py compare examples/example1_base.java examples/example1_incoming.java
```

**适用场景：**
- 已经有两个文件需要对比
- 喜欢命令行操作
- 需要在终端中快速查看差异

### 方式 3：交互式输入

```bash
# 启动交互式对比
python3 merge_assistant.py compare-text
```

然后按提示：
1. 粘贴第一段代码，按 `Ctrl+D` (Mac/Linux) 或 `Ctrl+Z` (Windows) 结束
2. 粘贴第二段代码，按 `Ctrl+D` (Mac/Linux) 或 `Ctrl+Z` (Windows) 结束
3. 查看差异结果

## 三、实际工作流程示例

### 场景：同事通过企业微信发来代码

**传统方式（痛苦）：**
1. 复制同事的代码到记事本
2. 打开你的代码文件
3. 肉眼逐行对比
4. 手动合并，容易出错
5. 耗时 20-30 分钟 😫

**使用本工具（高效）：**
1. 打开 Web 界面：`http://localhost:5678`
2. 左侧粘贴你的代码
3. 右侧粘贴同事的代码
4. 点击"对比分析"
5. 3 秒内看到所有差异，彩色高亮
6. 根据提示快速合并
7. 耗时 2-3 分钟 ⚡

**效率提升：10 倍！**

## 四、输出示例

### 控制台输出

```
============================================================
📊 代码差异分析报告
============================================================

📈 变更统计：
共发现 8 处变更：
  • 新增：5 行
  • 删除：1 行
  • 修改：2 行
  • 未变更：25 行

------------------------------------------------------------

🔍 详细差异：

+ [行 3] import java.util.Optional;
+ [行 4] import com.example.exception.UserNotFoundException;
⚠ [行 7 → 9]
  - * 用户服务类
  + * 用户服务类
  + * @author 张三
  + * @version 2.0
+ [行 28] public void deleteUser(Long id) {
+ [行 29]     userRepository.deleteById(id);
+ [行 30] }

============================================================
```

### Web 界面输出

- 🟢 **绿色背景**：新增的代码
- 🔴 **红色背景**：删除的代码
- 🟡 **黄色标记**：修改的代码
- 📊 **统计面板**：一目了然的变更数量

## 五、高级技巧

### 1. 快捷键

- `Ctrl + Enter` (或 `Cmd + Enter`)：快速触发对比
- `Ctrl + C`：停止服务

### 2. 自定义规则

编辑 `config/rules.yaml` 文件，自定义合并策略：

```yaml
priority:
  - type: "config"
    strategy: "prefer_base"  # 配置项优先保留你的版本
  
  - type: "business_logic"
    strategy: "prefer_incoming"  # 业务逻辑优先保留同事的版本
```

### 3. 批量对比

如果有多个文件需要对比，可以写个简单的脚本：

```bash
#!/bin/bash
for file in *.java; do
    python3 merge_assistant.py compare "base/$file" "incoming/$file"
done
```

## 六、常见问题

### Q1: 端口 5678 被占用怎么办？

修改 `web_ui.py` 最后一行：
```python
app.run(host='0.0.0.0', port=8888, debug=True)  # 改成其他端口
```

### Q2: 支持哪些编程语言？

目前支持所有文本格式的代码文件：
- Java ✅
- Python ✅
- JavaScript / TypeScript ✅
- C / C++ ✅
- Go ✅
- 其他任何文本文件 ✅

### Q3: 代码会被上传到服务器吗？

**不会！** 所有处理都在你的本地电脑完成，完全离线运行，符合金融合规要求。

### Q4: 可以在公司内网使用吗？

**可以！** 工具完全本地运行，不需要联网，不需要外部依赖。

## 七、下一步

1. ⭐ 试用 Web 界面，体验彩色差异对比
2. 📝 用真实的工作代码测试一下
3. 🔧 根据需要调整 `config/rules.yaml` 配置
4. 💡 如有问题或建议，欢迎反馈

---

**祝你代码合并愉快！** 🎉
