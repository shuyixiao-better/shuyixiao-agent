# Gitee AI API 配置示例
# 复制此文件为 .env 并填入你的配置
# 模型地址文档: https://ai.gitee.com/docs/products/apis

# ========== 必需配置 ==========

# API 密钥（必需）
# 获取地址: https://ai.gitee.com/dashboard/settings/tokens
GITEE_AI_API_KEY=你的API密钥

# ========== 基础配置 ==========

# API 基础 URL（默认值如下）
GITEE_AI_BASE_URL=https://ai.gitee.com/v1

# SSL 验证（如遇到 SSL 错误可设为 false）
SSL_VERIFY=false

# ========== 主对话模型配置 ==========

# 是否使用云端对话模型（推荐设为 true）
USE_CLOUD_CHAT_MODEL=true

# 云端对话模型名称
# 可选模型（参考文档: https://ai.gitee.com/docs/products/apis）：
# - DeepSeek-V3 (推荐，强大的通用模型)
# - Qwen2.5-72B-Instruct
# - Qwen2.5-14B-Instruct
# - GLM-4-Plus
# - GLM-4-Flash
# 等等，查看更多模型请访问文档
GITEE_AI_MODEL=DeepSeek-V3

# 本地对话模型配置（仅当 USE_CLOUD_CHAT_MODEL=false 时使用）
# LOCAL_CHAT_MODEL=your-local-model-path
# LOCAL_CHAT_DEVICE=cpu

# ========== RAG 嵌入模型配置 ==========

# 是否使用云端嵌入服务（推荐设为 true，无需下载模型）
USE_CLOUD_EMBEDDING=true

# 云端嵌入模型名称（仅当 USE_CLOUD_EMBEDDING=true 时使用）
# 可选模型（参考文档: https://ai.gitee.com/docs/products/apis）：
# - bge-large-zh-v1.5 (推荐，1024维)
# - bge-small-zh-v1.5 (512维，速度快)
# - text-embedding-ada-002 (OpenAI兼容，1536维)
# 等等，查看更多向量化模型请访问文档
CLOUD_EMBEDDING_MODEL=bge-large-zh-v1.5

# 本地嵌入模型配置（仅当 USE_CLOUD_EMBEDDING=false 时使用）
# EMBEDDING_MODEL=BAAI/bge-small-zh-v1.5
# EMBEDDING_DEVICE=cpu

# ========== RAG 基础配置 ==========

# 向量数据库路径
VECTOR_DB_PATH=./data/chroma

# 文档分片配置
CHUNK_SIZE=500
CHUNK_OVERLAP=50

# 检索配置
RETRIEVAL_TOP_K=10
RERANK_TOP_K=5

# ========== RAG 重排序模型配置 ==========

# 是否使用云端重排序服务（推荐设为 true，无需下载模型）
USE_CLOUD_RERANKER=true

# 云端重排序模型名称（仅当 USE_CLOUD_RERANKER=true 时使用）
# 可选模型（参考文档: https://ai.gitee.com/docs/products/apis）：
# - bge-reranker-base (推荐)
# - bge-reranker-large (更高精度)
# 等等，查看更多重排序模型请访问文档
CLOUD_RERANKER_MODEL=bge-reranker-base

# 本地重排序模型配置（仅当 USE_CLOUD_RERANKER=false 时使用）
# RERANKER_MODEL=BAAI/bge-reranker-base
# RERANKER_DEVICE=cpu

# ========== 查询优化模型配置 ==========

# 查询优化功能使用的模型（默认使用主对话模型）
# 如果想为查询优化使用不同的模型，可以单独配置
# 留空则使用 GITEE_AI_MODEL 配置的模型
QUERY_OPTIMIZER_MODEL=

# 是否启用查询优化功能
ENABLE_QUERY_REWRITE=true
ENABLE_SUBQUERY_EXPANSION=false

# ========== Agent 配置 ==========

# Agent 使用的模型（默认使用主对话模型）
# 如果想为 Agent 使用不同的模型，可以单独配置
# 留空则使用 GITEE_AI_MODEL 配置的模型
AGENT_MODEL=

# Agent 最大迭代次数
AGENT_MAX_ITERATIONS=10

# 是否输出详细日志
AGENT_VERBOSE=true

# 请求超时时间（秒）
REQUEST_TIMEOUT=60

# 最大重试次数
MAX_RETRIES=3

# 故障转移（启用后，如果当前模型失败会自动切换到其他可用模型）
ENABLE_FAILOVER=true

# ========== 高级配置 ==========

# 上下文管理
MAX_CONTEXT_TOKENS=4000
ENABLE_CONTEXT_EXPANSION=true

# 子查询配置
MAX_SUBQUERIES=3

